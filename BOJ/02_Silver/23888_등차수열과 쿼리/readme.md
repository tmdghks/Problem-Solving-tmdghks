# [SILVER III] BOJ 23888 - 등차수열과 쿼리

[문제 링크](https://boj.kr/23888)

### 분류

수학 (Mathematics), 정수론 (Number Theory), 유클리드 호제법 (Euclidean Alogrithm)

### 풀이

먼저 등차수열의 합 같은 경우에는 등차수열의 합 식을 이용해 $O(1)$로 해결할 수 있음이 자명하다.  
최대공약수가 문제인데, 순전하게 모든 경우에 대해 최대공약수를 구하면 매우 긴 시간이 걸리게 된다. 한편, 임의의 연속된 두 수열의 최대공약수를 다음과 같이 생각할 수 있다. 
$$gcd(a+nd, a+(n+1)d) = gcd(a+(n+1)d, d) = gcd(a, d)$$
따라서, 두 개 이상의 연속된 수열에 대한 최대공약수는 $gcd(a, d)$이고, 단 하나의 수에 대해선 그 수가 최대공약수가 된다. 최대공약수를 한 번 저장해 놓으면 $O(1)$에 해결할 수 있다.